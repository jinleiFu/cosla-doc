"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[5186],{7570:(n,s,a)=>{a.r(s),a.d(s,{data:()=>e});const e={key:"v-631794f2",path:"/pages/developAttention/vehicleWebClient/",title:"网页端开发事项",lang:"zh-CN",frontmatter:{pageClass:"page-with-toc"},excerpt:"",headers:[{level:2,title:"技术栈",slug:"技术栈",children:[]},{level:2,title:"开发环境",slug:"开发环境",children:[]},{level:2,title:"启动步骤",slug:"启动步骤",children:[]},{level:2,title:"注意事项",slug:"注意事项",children:[{level:3,title:"1.新建页面",slug:"_1-新建页面",children:[]},{level:3,title:"2.静态资源",slug:"_2-静态资源",children:[]},{level:3,title:"3.网络请求",slug:"_3-网络请求",children:[]}]},{level:2,title:"项目目录",slug:"项目目录",children:[]}],filePathRelative:"pages/developAttention/vehicleWebClient/README.md",git:{updatedTime:1650097414e3,contributors:[{name:"jinleiFu",email:"1928537900@qq.com",commits:5}]}}},1808:(n,s,a)=>{a.r(s),a.d(s,{default:()=>O});var e=a(6252);const p={class:"table-of-contents"},l=(0,e.Uk)("技术栈"),t=(0,e.Uk)("开发环境"),r=(0,e.Uk)("启动步骤"),o=(0,e.Uk)("注意事项"),c=(0,e.Uk)("1.新建页面"),i=(0,e.Uk)("2.静态资源"),u=(0,e.Uk)("3.网络请求"),b=(0,e.Uk)("项目目录"),m=(0,e._)("h1",{id:"网页端开发事项",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#网页端开发事项","aria-hidden":"true"},"#"),(0,e.Uk)(" 网页端开发事项")],-1),k=(0,e._)("h2",{id:"技术栈",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#技术栈","aria-hidden":"true"},"#"),(0,e.Uk)(" 技术栈")],-1),d={href:"https://v3.cn.vuejs.org/",target:"_blank",rel:"noopener noreferrer"},h=(0,e.Uk)("vue@3.1.4"),g={href:"https://2x.antdv.com/components/overview/",target:"_blank",rel:"noopener noreferrer"},v=(0,e.Uk)("ant-design-vue@2.2.2"),f={href:"https://next.router.vuejs.org/",target:"_blank",rel:"noopener noreferrer"},_=(0,e.Uk)("vue-router@4.0.10"),j={href:"https://next.vuex.vuejs.org/",target:"_blank",rel:"noopener noreferrer"},x=(0,e.Uk)("vuex@4.0.2"),w={href:"https://axios-http.com/zh/docs/intro/",target:"_blank",rel:"noopener noreferrer"},y=(0,e.Uk)("axios@0.21.1"),W={href:"https://less.bootcss.com/",target:"_blank",rel:"noopener noreferrer"},U=(0,e.Uk)("less@4.1.1"),T={href:"https://www.webpackjs.com/concepts/",target:"_blank",rel:"noopener noreferrer"},C=(0,e.Uk)("webpack@4.41.30"),E={href:"https://day.js.org/docs/zh-CN/installation/installation",target:"_blank",rel:"noopener noreferrer"},q=(0,e.Uk)("dayjs@1.10.6"),S={href:"https://www.lodashjs.com/",target:"_blank",rel:"noopener noreferrer"},L=(0,e.Uk)("lodash@4.17.21"),A={href:"https://github.com/LancerComet/vue-jsonp#readme",target:"_blank",rel:"noopener noreferrer"},M=(0,e.Uk)("vue-jsonp@2.0.0"),z={href:"https://github.com/rockboom/SheetJS-docs-zh-CN",target:"_blank",rel:"noopener noreferrer"},D=(0,e.Uk)("xlsx@0.17.4"),R=(0,e.uE)('<h2 id="开发环境" tabindex="-1"><a class="header-anchor" href="#开发环境" aria-hidden="true">#</a> 开发环境</h2><p><code>vscode</code></p><h2 id="启动步骤" tabindex="-1"><a class="header-anchor" href="#启动步骤" aria-hidden="true">#</a> 启动步骤</h2><ol><li>npm i</li><li>npm run serve</li></ol><h2 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项" aria-hidden="true">#</a> 注意事项</h2><h3 id="_1-新建页面" tabindex="-1"><a class="header-anchor" href="#_1-新建页面" aria-hidden="true">#</a> 1.新建页面</h3><ol start="2"><li>根据模块在<code>views</code>文件夹下创建对应文件夹</li><li>根据具体功能创建文件夹，如<code>add</code>、<code>edit</code>、<code>details</code></li><li>在对应功能下创建<code>index.vue</code>，根据需要判断是否需要创建同级<code>components</code>文件夹</li><li>在<code>router/index.js</code>创建路由</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 路由示例</span>\n\n<span class="token punctuation">{</span>\n    path<span class="token operator">:</span> <span class="token string">&#39;/vehicle-manage&#39;</span><span class="token punctuation">,</span>\n    name<span class="token operator">:</span> <span class="token string">&#39;VehicleManage&#39;</span><span class="token punctuation">,</span>\n    component<span class="token operator">:</span> Layout<span class="token punctuation">,</span>\n    redirect<span class="token operator">:</span> <span class="token string">&#39;/vehicle-manage/details&#39;</span><span class="token punctuation">,</span>\n    children<span class="token operator">:</span> <span class="token punctuation">[</span>\n        <span class="token punctuation">{</span>\n            path<span class="token operator">:</span> <span class="token string">&#39;details&#39;</span><span class="token punctuation">,</span>\n            name<span class="token operator">:</span> <span class="token string">&#39;VehicleDetails&#39;</span><span class="token punctuation">,</span>\n            <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;@/views/vehicle/details&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            meta<span class="token operator">:</span> <span class="token punctuation">{</span>\n                title<span class="token operator">:</span> <span class="token string">&#39;车辆详情&#39;</span><span class="token punctuation">,</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token punctuation">{</span>\n            path<span class="token operator">:</span> <span class="token string">&#39;add&#39;</span><span class="token punctuation">,</span>\n            name<span class="token operator">:</span> <span class="token string">&#39;AddVehicle&#39;</span><span class="token punctuation">,</span>\n            <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;@/views/vehicle/add&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            meta<span class="token operator">:</span> <span class="token punctuation">{</span>\n                title<span class="token operator">:</span> <span class="token string">&#39;新增车辆&#39;</span><span class="token punctuation">,</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">]</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>注意事项：路由添加后访问403可能原因为登录账号没有该页面访问权限</p><p>解决方案：</p><ul><li>在<code>config/config.js</code>中添加<code>routesWhiteList</code>配置项，设置路由白名单。上线时注意移除该文件的<code>routesWhiteList</code>配置！！！该配置仅在开发阶段使用，线上根据用户权限而定。</li><li>请后端小伙伴添加路由权限</li></ul><h3 id="_2-静态资源" tabindex="-1"><a class="header-anchor" href="#_2-静态资源" aria-hidden="true">#</a> 2.静态资源</h3><p>项目中使用到的小图标放置<code>assets</code>文件夹，根据模块创建文件夹后放置切图。</p><h3 id="_3-网络请求" tabindex="-1"><a class="header-anchor" href="#_3-网络请求" aria-hidden="true">#</a> 3.网络请求</h3><p>所有的网络请求方法均放置在<code>api</code>文件夹中，根据模块命名请求文件，模块中放置该模块所有的请求方法。</p><p>请求方法书写示例：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// user.js</span>\n\n<span class="token keyword">import</span> request <span class="token keyword">from</span> <span class="token string">&#39;@/utils/request&#39;</span>\n\n<span class="token doc-comment comment">/**\n * 获取用户token\n */</span>\n<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">userToken</span><span class="token punctuation">(</span><span class="token parameter">tempToken</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/user/token/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>tempToken<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>\n    method<span class="token operator">:</span> <span class="token string">&#39;GET&#39;</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>调用请求方法示例：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 引入请求方法</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> userToken <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/api/user&#39;</span>\n\n<span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">userToken</span><span class="token punctuation">(</span>tempToken<span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>注意事项：</p><ul><li><p>请求方法都默认添加loading及错误提示，去除该默认行为请见下方示例</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 去除loading</span>\n<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getContractDetails</span><span class="token punctuation">(</span><span class="token parameter">serviceStationContractId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    url<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">service-station-contract/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>serviceStationContractId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/detail</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>\n    method<span class="token operator">:</span> <span class="token string">&#39;GET&#39;</span><span class="token punctuation">,</span>\n    headers<span class="token operator">:</span> <span class="token punctuation">{</span>\n      showLoading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// 去除错误提示</span>\n<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">validateServiceStationName</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    url<span class="token operator">:</span> <span class="token string">&#39;/service-station/validate/service-station-name&#39;</span><span class="token punctuation">,</span>\n    method<span class="token operator">:</span> <span class="token string">&#39;POST&#39;</span><span class="token punctuation">,</span>\n    data<span class="token punctuation">,</span>\n    headers<span class="token operator">:</span> <span class="token punctuation">{</span> hideError<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div></li><li><p>由于ES的缘故<strong>post/delete请求默认添加1s延迟</strong>，可通过在headers添加noWait:true去除该行为，可通过在headers添加wait(单位秒)定制化延迟时间。</p></li></ul><h2 id="项目目录" tabindex="-1"><a class="header-anchor" href="#项目目录" aria-hidden="true">#</a> 项目目录</h2><details class="custom-container details"><summary>点击展开</summary><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>.\n├── README.md\n├── babel.config.js                         // 代码babel配置\n├── build.sh\n├── dist\n├── node_modules\n├── package-lock.json\n├── package.json\n├── prettier.config.js                      // 代码格式化配置\n├── public                                  // 静态资源\n│   ├── favicon.ico\n│   ├── index.html\n│   └── static\n│       └── css\n│           └── loading.css\n├── src\n│   ├── App.vue\n│   ├── api                                 // 网络请求文件\n│   ├── assets                              // 图片等资源\n│   ├── components                          // 自定义组件\n│   ├── config                              // 项目配置文件\n│   │   ├── config.js\n│   │   ├── default\n│   │   │   ├── index.js\n│   │   │   ├── network.config.js\n│   │   │   └── setting.config.js\n│   │   └── index.js\n│   ├── directives                          // 指令文件\n│   │   ├── clickOutside.js\n│   │   ├── formControl.js\n│   │   ├── index.js\n│   │   └── preventReClick.js\n│   ├── layout\n│   │   ├── components\n│   │   │   └── TopMenu.vue\n│   │   └── index.vue\n│   ├── main.js                             // 入口文件\n│   ├── router                              // 路由\n│   │   ├── index.js\n│   │   └── permissions.js\n│   ├── store                               // vuex\n│   │   ├── index.js\n│   │   └── modules\n│   │       ├── settings.js\n│   │       └── user.js\n│   ├── styles                              // 样式文件\n│   │   ├── index.less\n│   │   ├── mixin.less\n│   │   ├── normalize.less\n│   │   └── variable.less\n│   ├── utils                               // 工具类文件\n│   │   ├── accessToken.js\n│   │   ├── clipboard.js\n│   │   ├── htmlToPdf.js\n│   │   ├── index.js\n│   │   ├── pageTitle.js\n│   │   ├── removeTempToken.js\n│   │   ├── request.js\n│   │   └── validate.js\n│   └── views                               // 页面文件\n│       ├── 401.vue\n│       ├── 403.vue\n│       ├── 404.vue\n│       ├── faultManage\n│       │   ├── add\n│       │   │   └── index.vue\n│       │   └── details\n│       │       └── index.vue\n│       ├── fittingManage\n│       │   └── details\n│       │       └── index.vue\n│       ├── login\n│       │   └── index.vue\n│       ├── version.vue\n└── vue.config.js\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br></div></div></details>',23),N={},O=(0,a(3744).Z)(N,[["render",function(n,s){const a=(0,e.up)("RouterLink"),N=(0,e.up)("OutboundLink");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e._)("nav",p,[(0,e._)("ul",null,[(0,e._)("li",null,[(0,e.Wm)(a,{to:"#技术栈"},{default:(0,e.w5)((()=>[l])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(a,{to:"#开发环境"},{default:(0,e.w5)((()=>[t])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(a,{to:"#启动步骤"},{default:(0,e.w5)((()=>[r])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(a,{to:"#注意事项"},{default:(0,e.w5)((()=>[o])),_:1}),(0,e._)("ul",null,[(0,e._)("li",null,[(0,e.Wm)(a,{to:"#_1-新建页面"},{default:(0,e.w5)((()=>[c])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(a,{to:"#_2-静态资源"},{default:(0,e.w5)((()=>[i])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(a,{to:"#_3-网络请求"},{default:(0,e.w5)((()=>[u])),_:1})])])]),(0,e._)("li",null,[(0,e.Wm)(a,{to:"#项目目录"},{default:(0,e.w5)((()=>[b])),_:1})])])]),m,k,(0,e._)("ul",null,[(0,e._)("li",null,[(0,e._)("a",d,[h,(0,e.Wm)(N)])]),(0,e._)("li",null,[(0,e._)("a",g,[v,(0,e.Wm)(N)])]),(0,e._)("li",null,[(0,e._)("a",f,[_,(0,e.Wm)(N)])]),(0,e._)("li",null,[(0,e._)("a",j,[x,(0,e.Wm)(N)])]),(0,e._)("li",null,[(0,e._)("a",w,[y,(0,e.Wm)(N)])]),(0,e._)("li",null,[(0,e._)("a",W,[U,(0,e.Wm)(N)])]),(0,e._)("li",null,[(0,e._)("a",T,[C,(0,e.Wm)(N)])]),(0,e._)("li",null,[(0,e._)("a",E,[q,(0,e.Wm)(N)])]),(0,e._)("li",null,[(0,e._)("a",S,[L,(0,e.Wm)(N)])]),(0,e._)("li",null,[(0,e._)("a",A,[M,(0,e.Wm)(N)])]),(0,e._)("li",null,[(0,e._)("a",z,[D,(0,e.Wm)(N)])])]),R],64)}]])}}]);