"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[7391],{7391:(t,e,n)=>{n.r(e),n.d(e,{default:()=>f});var a=n(6252),i=n(3577);const s=t=>((0,a.dD)("data-v-3bc3f14b"),t=t(),(0,a.Cn)(),t),o={class:"map-container"},c=s((()=>(0,a._)("div",{id:"mapBox"},null,-1))),l={class:"search-box"},r={class:"search-ipt"},p=[s((()=>(0,a._)("img",{src:"/map/map_search_icon.svg",width:"17",height:"17"},null,-1)))],d=s((()=>(0,a._)("div",{class:"search-tip"},"推荐服务站",-1))),m={class:"search-list"},g=["onClick"],w={class:"top"},h={class:"item-name"},u={class:"item-distance"},y=s((()=>(0,a._)("img",{src:"https://static.shinwell.cn/PC/map_car_icon.svg",width:"15",height:"15"},null,-1))),k={class:"item-type"},v={class:"item-scope"};var x=n(2262);const b=(0,a.aZ)({name:"Map",props:{lat:{type:Number},lng:{type:Number}},setup(t,{emit:e}){const n=(0,x.qj)({keyword:"",map:null,marker:null,list:[],currentId:-1});function i(){let e=new window.TMap.Map("mapBox",{center:new window.TMap.LatLng(t.lat,t.lng)});n.map=e}function s(){let t=document.createElement("script");t.type="text/javascript",t.src="https://map.qq.com/api/gljs?v=1.exp&key=2VZBZ-HHIRU-HQ4VS-BSLAQ-LIK5T-A4BLM&callback=initMap",document.body.appendChild(t)}function o(){let t=new window.TMap.MultiMarker({map:n.map,styles:{marker:new window.TMap.MarkerStyle({width:31,height:31,anchor:{x:10,y:30},src:"https://static.shinwell.cn/PC/latlng_icon.svg"})},geometries:n.list});n.marker=t,n.marker.on("click",(function(t){n.currentId=t.geometry.stationId,n.map.setCenter(new window.TMap.LatLng(t.geometry.lat,t.geometry.lng)),e("chooseServiceStationResult",t.geometry),new window.TMap.InfoWindow({map:n.map,enableCustom:!0,position:new window.TMap.LatLng(t.geometry.lat,t.geometry.lng),offset:{y:-30,x:0},content:`\n              <div style="width:261px; height:139px; background:#fff; box-shadow: 0px 2px 8px 0px #E4E4E4; padding:12px">\n                <div style="overflow:hidden;">\n                  <span style="font-size:14px; color:#202020;">${t.geometry.stationName}</span>\n                  <span style="font-size:12px; color:#0061CC;">\n                    <img src="https://static.shinwell.cn/PC/map_car_icon.svg" width="15" height="15" />\n                    ${t.geometry.distance}km\n                  </span>\n                  <span style="display:inline-block; width:48px; height:22px; line-height:22px; background:#E6F1FF; border-radius:2px; border:1px solid #B3D7FF; font-size:12px; color:#007AFF; text-align:center; float:right;">\n                    ${t.geometry.contractType}\n                  </span>\n                </div>\n                <div style="font-size:12px; color:#595959; margin-top:12px;">${t.geometry.businessScopes}</div>\n                <div style="font-size:12px; color:#595959; margin-top:12px;">\n                  ${t.geometry.contactPerson}&nbsp;${t.geometry.contactMobile}\n                </div>\n                <div style="font-size:12px; color:#595959; margin-top:12px;">${t.geometry.address}</div>\n              </div>\n            `})}))}return(0,a.wF)((()=>{window.initMap=i,s()})),{...(0,x.BK)(n),initMap:i,loadScript:s,getMarker:o,handleClick:async()=>{let t=[{address:"上海市浦东新区祖冲之路1239弄",businessScopes:"电器、机修",contactMobile:"13800000000",contactPerson:"张三",contractType:"签约站",distance:"10",lat:"31.205898",lng:"121.602059",stationId:"1",stationName:"酷酷的服务站1"},{address:"上海市浦东新区晨晖路88号",businessScopes:"电器、机修",contactMobile:"13811111111",contactPerson:"李四",contractType:"合作站",distance:"0.5",lat:"31.196975",lng:"121.581615",stationId:"2",stationName:"酷酷的服务站2"}];t?.length&&(t.forEach((t=>{t.position=new window.TMap.LatLng(t.lat,t.lng),t.styleId="marker"})),n.list=t),o()},itemClick:t=>{n.currentId=t.stationId,n.map.setCenter(new window.TMap.LatLng(t.lat,t.lng)),e("chooseServiceStationResult",t)}}}}),f=(0,n(3744).Z)(b,[["render",function(t,e,n,s,x,b){const f=(0,a.up)("a-input");return(0,a.wg)(),(0,a.iD)("div",o,[c,(0,a._)("div",l,[(0,a._)("div",r,[(0,a.Wm)(f,{value:t.keyword,"onUpdate:value":e[0]||(e[0]=e=>t.keyword=e),placeholder:"请输入关键字搜索"},null,8,["value"]),(0,a._)("div",{class:"search-icon",onClick:e[1]||(e[1]=(...e)=>t.handleClick&&t.handleClick(...e))},p)]),t.list.length>0?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[d,(0,a._)("ul",m,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.list,(e=>((0,a.wg)(),(0,a.iD)("li",{key:e.stationId,class:(0,i.C_)([t.currentId===e.stationId?"active":"","list-item"]),onClick:n=>t.itemClick(e)},[(0,a._)("div",w,[(0,a._)("span",h,(0,i.zw)(e.stationName),1),(0,a._)("span",u,[y,(0,a.Uk)(" "+(0,i.zw)(e.distance)+"km ",1)]),(0,a._)("span",k,(0,i.zw)(e.contractType),1)]),(0,a._)("div",v,(0,i.zw)(e.businessScopes),1)],10,g)))),128))])],64)):(0,a.kq)("",!0)])])}],["__scopeId","data-v-3bc3f14b"]])}}]);